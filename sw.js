var precache="game103-precache",runtime="game103-runtime",precacheUrls=["/"];function networkFirstCache(n,r){return caches.open(runtime).then(function(t){return fetch(n.request,{redirect:"follow"}).then(function(e){return t.put(n.request,e.clone()).then(function(){return e})}).catch(function(e){return console.log("Failed to fetch: "+n.request.url+" -- "+e),r})})}self.addEventListener("install",function(e){e.waitUntil(caches.open(precache).then(function(e){return e.addAll(precacheUrls)}))}),self.addEventListener("fetch",function(n){if(-1!=n.request.url.indexOf("/admin")||-1!=n.request.url.indexOf("/random")||-1!=n.request.url.indexOf("/ws")||-1!=n.request.url.indexOf("?search=")||-1!=n.request.url.indexOf("https://www.google-analytics.com"))return!1;n.respondWith(caches.match(n.request).then(function(e){var t="";if(e)t=e.headers.get("Content-type");return!t||t.startsWith("text")||t.endsWith("json")||t.endsWith("octet-stream")?networkFirstCache(n,e):(setTimeout(function(){networkFirstCache(n,e)},200),e)}))});