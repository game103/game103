var findSearchTimeout;function findMakeLinksAjax(){try{for(var e=document.querySelectorAll(".box-content-footer a, .box-content-title a"),t=0;t<e.length;t++)e[t].onclick=function(e){return e.preventDefault(),e.stopPropagation(),findMakeRequest(this.getAttribute("href"),!0),!1};document.querySelector(".find-refine form").onsubmit=function(e){return e.preventDefault(),e.stopPropagation(),!1},document.querySelector(".find-refine input").oninput=function(e){var t=findStrip(this.value);t=encodeURIComponent(t);var n=document.querySelector(".find-dropdown-selected-in-list a").getAttribute("href"),o=6;"everything"!=(n=n.split("/"))[1]&&"apps"!=n[1]||(o=5),"games"==n[1]&&(o=7),n.length==o&&n.splice(n.length-3,1),t&&n.splice(n.length-2,0,t),n=n.join("/"),findSearchTimeout&&clearTimeout(findSearchTimeout);var r=document.getElementById("search").selectionStart;findSearchTimeout=setTimeout(function(){findMakeRequest(n,!0,!0,r)},500)};var n=document.querySelectorAll(".find-dropdown");for(t=0;t<n.length;t++)n[t].onclick=function(e){var t=document.getElementById(this.getAttribute("for"));t.checked||(findCloseMenus(),t.checked=!0,e.preventDefault(),e.stopPropagation())};entrySetLinks()}catch(e){}}function findMakeRequest(i,c,a,u){var d=new XMLHttpRequest,s=document.querySelector(".box-content-tab-selected");s&&(s.style.opacity=.5);var l=document.querySelector(".content");d.onreadystatechange=function(){if(4==d.readyState)try{var e=document.querySelector(".box-content-container").offsetTop;window.scrollY>e&&window.scrollTo(0,document.getElementsByClassName("box-content")[0].offsetTop);var t=JSON.parse(d.responseText);l.innerHTML=t.content,document.title=t.title;for(var n=document.getElementsByTagName("meta"),o=0;o<n.length;o++)"description"==n[o].name.toLowerCase()&&(n[o].content=t.description);if(c&&history.pushState("","",i),a){var r=document.getElementById("search");r.focus(),r.setSelectionRange(u,u)}findMakeLinksAjax()}catch(e){s&&(s.style.opacity=1),l.innerHTML="An error has occurred. Please try reloading the page."}},d.open("GET",i+"?ws=1",!0),d.send()}function findStrip(e){var t=document.implementation.createHTMLDocument("New").body;return t.innerHTML=e,t.textContent||t.innerText||""}function findCloseMenus(){for(var e=document.querySelectorAll(".find-checkbox"),t=0;t<e.length;t++)e[t].checked=!1}document.onclick=findCloseMenus,window.onpopstate=function(e){findMakeRequest(window.location.pathname,!1)},document.addEventListener("DOMContentLoaded",function(){findMakeLinksAjax()},!1);